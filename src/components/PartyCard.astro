---
export interface Props {
  id?: string;
  venue: string;
  date: string;
  title: string;
  artists?: string[];
  startTime: string;
  url?: string;
}

const { id, venue, date, title, artists, startTime, url } = Astro.props;

const formattedDate = new Date(date).toLocaleDateString('en-GB', {
  weekday: 'short',
  day: 'numeric',
  month: 'short',
  year: 'numeric'
});
---

<article style="border: 1px solid #ccc; padding: 1rem; border-radius: 8px; margin-bottom: 1rem; position: relative;">
  {id && (
    <div style="position: absolute; top: 0.5rem; right: 0.5rem; font-size: 0.7rem; color: #999;">
      #{id}
    </div>
  )}
  <h3 style="margin: 0 0 0.5rem 0;">{title} @ {venue}</h3>
  <p style="margin: 0 0 0.25rem 0;">ðŸ“… {formattedDate} â€“ ðŸ•— {startTime}</p>
  {artists && artists.length > 0 && (
    <p style="margin: 0 0 0.25rem 0;">ðŸŽ§ {artists.join(', ')}</p>
  )}
  {url && (
    <p style="margin: 0;"><a href={url} target="_blank" rel="noopener">More Info</a></p>
  )}
</article>
